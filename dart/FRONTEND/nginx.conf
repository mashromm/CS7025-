events {}
http {
    server {
        # 关键！必须使用 $PORT 变量
        listen ${PORT} default_server;
        root /app;  # Railway 会将项目文件放在 /app 目录

        # 单页应用路由支持（如果用了前端路由）
        location / {
            try_files $uri $uri/ /index.html;
        }

        # 图片等静态资源缓存配置（可选）
        location ~* \.(png|jpg|jpeg|gif)$ {
            expires 30d;
            add_header Cache-Control "public";
        }
    }
}
